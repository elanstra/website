<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beste Vakantieweken Nederland - Data Analyse</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- FIX: Specifieke UMD versie van Chart.js gebruikt voor stabiliteit -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            height: 400px;
        }
        input[type=range] {
            -webkit-appearance: none; 
            background: transparent; 
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 20px;
            width: 20px;
            border-radius: 50%;
            background: #d97706; /* amber-600 */
            cursor: pointer;
            margin-top: -8px; 
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 4px;
            cursor: pointer;
            background: #e5e7eb;
            border-radius: 2px;
        }
    </style>
    <!-- Chosen Palette: Warm Neutrals & Summer Accents. Background: Stone-50. Primary: Amber-600 (Sun). Secondary: Sky-600 (Clear Days). Text: Slate-800. -->
    <!-- Application Structure Plan: 
         1. Hero Section: Sets context regarding climatology vs prediction.
         2. Preference Engine (Interaction): Users adjust sliders for Heat, Sun, and Dryness. This makes the data personal.
         3. Dynamic Top 3 Result: Immediately calculates and shows the best weeks based on user weights.
         4. Main Visualization (Chart.js): A combo chart showing the correlation between Temp, Rain, and Sun hours across weeks 22-35.
         5. Seasonal Breakdown: Detailed text/cards comparing Early, Peak, and Late summer.
         6. Regional Toggle: A simple switch to see differences between Coast and Inland weather.
    -->
    <!-- Visualization & Content Choices:
         - Chart.js Combo Chart: Best to compare different units (Temp in C vs Sun in Hours) on one timeline. 
         - Logic: JS array with KNMI 30-year average approximations per week.
         - Interaction: Sliders update the "Score" per week, re-ordering the Top 3 display.
         - CONFIRMATION: NO SVG graphics used. NO Mermaid JS used.
    -->
</head>
<body class="bg-stone-50 text-slate-800">

    <!-- Navbar -->
    <nav class="bg-white shadow-sm border-b border-stone-200 sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <div class="flex items-center gap-2">
                    <span class="text-2xl">üá≥üá±</span>
                    <h1 class="font-bold text-xl tracking-tight text-slate-900">ZomerPlanner <span class="text-amber-600 font-light">NL</span></h1>
                </div>
                <div class="text-sm font-medium text-slate-500 hidden sm:block">Gebaseerd op KNMI Climatologie (1991-2020)</div>
            </div>
        </div>
    </nav>

    <!-- Hero / Intro -->
    <header class="max-w-4xl mx-auto px-4 py-12 text-center">
        <h2 class="text-3xl md:text-5xl font-bold mb-4 text-slate-900">Wanneer is de Nederlandse zomer op zijn best?</h2>
        <p class="text-lg text-slate-600 leading-relaxed max-w-2xl mx-auto">
            Het weer in Nederland is wisselvallig, maar statistieken liegen niet. 
            Gebruik deze tool om op basis van historische data de <span class="font-semibold text-amber-600">3 beste weken</span> te vinden voor jouw ideale vakantie.
        </p>
    </header>

    <!-- Main Application Container -->
    <main class="max-w-6xl mx-auto px-4 pb-20 space-y-12">

        <!-- SECTION 1: Preference Calculator -->
        <section class="bg-white rounded-2xl shadow-lg border border-stone-100 overflow-hidden">
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-0">
                
                <!-- Controls -->
                <div class="lg:col-span-5 p-8 bg-stone-100/50 border-r border-stone-100 flex flex-col justify-center">
                    <h3 class="text-xl font-bold mb-2">Jouw Voorkeuren</h3>
                    <p class="text-sm text-slate-500 mb-8">Wat vind jij het belangrijkst? Verschuif de regelaars.</p>

                    <div class="space-y-8">
                        <!-- Slider: Heat -->
                        <div>
                            <div class="flex justify-between mb-2">
                                <label class="font-semibold text-slate-700 flex items-center gap-2">
                                    üå°Ô∏è Temperatuur
                                </label>
                                <span id="val-temp" class="text-amber-600 font-bold">50%</span>
                            </div>
                            <input type="range" id="input-temp" min="0" max="100" value="50" class="w-full h-2 bg-stone-200 rounded-lg appearance-none cursor-pointer">
                            <p class="text-xs text-slate-400 mt-1">Links: Koeler is ok√© ‚Ä¢ Rechts: Hittegolf graag</p>
                        </div>

                        <!-- Slider: Sun -->
                        <div>
                            <div class="flex justify-between mb-2">
                                <label class="font-semibold text-slate-700 flex items-center gap-2">
                                    ‚òÄÔ∏è Zonuren
                                </label>
                                <span id="val-sun" class="text-amber-600 font-bold">50%</span>
                            </div>
                            <input type="range" id="input-sun" min="0" max="100" value="50" class="w-full h-2 bg-stone-200 rounded-lg appearance-none cursor-pointer">
                            <p class="text-xs text-slate-400 mt-1">Links: Bewolking mag ‚Ä¢ Rechts: Maximale zon</p>
                        </div>

                        <!-- Slider: Rain -->
                        <div>
                            <div class="flex justify-between mb-2">
                                <label class="font-semibold text-slate-700 flex items-center gap-2">
                                    ‚òî Droogte
                                </label>
                                <span id="val-rain" class="text-sky-600 font-bold">50%</span>
                            </div>
                            <input type="range" id="input-rain" min="0" max="100" value="50" class="w-full h-2 bg-stone-200 rounded-lg appearance-none cursor-pointer">
                            <p class="text-xs text-slate-400 mt-1">Links: Een buitje is prima ‚Ä¢ Rechts: Gortdroog</p>
                        </div>
                    </div>
                </div>

                <!-- Results Display -->
                <div class="lg:col-span-7 p-8 flex flex-col items-center justify-center bg-white relative">
                    <div class="absolute top-4 right-4 text-xs font-mono text-stone-300">LIVE CALCULATIE</div>
                    
                    <h3 class="text-lg font-medium text-slate-500 mb-6 uppercase tracking-wider">Statistisch Beste Weken</h3>
                    
                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 w-full">
                        <!-- Rank 2 -->
                        <div class="order-2 sm:order-1 flex flex-col items-center justify-end pb-4">
                            <div class="text-sm font-bold text-slate-400 mb-2">#2</div>
                            <div class="bg-stone-50 border-2 border-stone-100 rounded-xl p-6 w-full text-center hover:border-amber-200 transition-colors">
                                <span class="block text-3xl font-bold text-slate-700" id="rank-2-week">Week --</span>
                                <span class="text-xs text-slate-500" id="rank-2-date">--</span>
                            </div>
                        </div>

                        <!-- Rank 1 -->
                        <div class="order-1 sm:order-2 flex flex-col items-center">
                            <div class="text-sm font-bold text-amber-500 mb-2 animate-bounce">üèÜ #1 KEUZE</div>
                            <div class="bg-amber-50 border-2 border-amber-200 shadow-amber-100 shadow-xl rounded-xl p-8 w-full text-center scale-105 transform transition-all">
                                <span class="block text-5xl font-black text-amber-600" id="rank-1-week">Week --</span>
                                <span class="text-sm font-medium text-amber-800/60 mt-2 block" id="rank-1-date">--</span>
                                <div class="mt-4 pt-4 border-t border-amber-200/50">
                                    <p class="text-xs text-amber-700" id="rank-1-desc">Berekenen...</p>
                                </div>
                            </div>
                        </div>

                        <!-- Rank 3 -->
                        <div class="order-3 sm:order-3 flex flex-col items-center justify-end pb-4">
                            <div class="text-sm font-bold text-slate-400 mb-2">#3</div>
                            <div class="bg-stone-50 border-2 border-stone-100 rounded-xl p-6 w-full text-center hover:border-amber-200 transition-colors">
                                <span class="block text-3xl font-bold text-slate-700" id="rank-3-week">Week --</span>
                                <span class="text-xs text-slate-500" id="rank-3-date">--</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 2: Visualization -->
        <section>
            <div class="mb-6 px-2">
                <h3 class="text-2xl font-bold text-slate-900">De Klimaat Grafiek</h3>
                <p class="text-slate-600">Onderstaande grafiek toont het historisch verloop van de Nederlandse zomer (Week 22 t/m 36).</p>
            </div>
            
            <div class="bg-white p-4 sm:p-8 rounded-2xl shadow-sm border border-stone-200">
                <div class="chart-container">
                    <canvas id="climateChart"></canvas>
                </div>
                <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-slate-500 bg-stone-50 p-4 rounded-lg">
                    <div class="flex items-start gap-2">
                        <div class="w-3 h-3 rounded-full bg-amber-500 mt-1"></div>
                        <p><strong>Temperatuur:</strong> Piekt traditioneel eind juli / begin augustus (de 'Hondsdagen').</p>
                    </div>
                    <div class="flex items-start gap-2">
                        <div class="w-3 h-3 rounded-full bg-yellow-400 mt-1"></div>
                        <p><strong>Zonuren:</strong> De langste dagen zijn in juni (week 25), maar vaak koeler.</p>
                    </div>
                    <div class="flex items-start gap-2">
                        <div class="w-3 h-3 rounded-full bg-sky-400 mt-1"></div>
                        <p><strong>Neerslag:</strong> Augustus is vaak warm, maar de kans op stevige onweersbuien neemt toe.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 3: Detailed Breakdown -->
        <section class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="col-span-1 md:col-span-3 mb-2 px-2">
                <h3 class="text-2xl font-bold text-slate-900">Seizoensfases</h3>
                <p class="text-slate-600">Elk deel van de zomer heeft zijn eigen karakteristieken.</p>
            </div>

            <!-- Early Summer -->
            <div class="bg-white rounded-xl p-6 shadow-sm border-t-4 border-yellow-300 hover:shadow-md transition-shadow">
                <div class="flex justify-between items-center mb-4">
                    <h4 class="font-bold text-lg">De Vroege Zomer</h4>
                    <span class="text-xs font-mono bg-yellow-100 text-yellow-800 px-2 py-1 rounded">Week 24 - 27</span>
                </div>
                <ul class="space-y-3 text-sm text-slate-600">
                    <li class="flex items-start gap-2">
                        <span class="text-green-500">‚úì</span> 
                        <span><strong>Langste dagen:</strong> Licht tot 22:30u. Ideaal voor avondactiviteiten.</span>
                    </li>
                    <li class="flex items-start gap-2">
                        <span class="text-green-500">‚úì</span> 
                        <span><strong>Frisse natuur:</strong> Alles staat groen en in bloei.</span>
                    </li>
                    <li class="flex items-start gap-2">
                        <span class="text-amber-500">‚ö†</span> 
                        <span><strong>Schaapscheerderskou:</strong> Kans op een koele dip in juni.</span>
                    </li>
                    <li class="flex items-start gap-2">
                        <span class="text-amber-500">‚ö†</span> 
                        <span><strong>Zeewater:</strong> Nog erg koud (14-16¬∞C).</span>
                    </li>
                </ul>
            </div>

            <!-- High Summer -->
            <div class="bg-white rounded-xl p-6 shadow-sm border-t-4 border-amber-500 hover:shadow-md transition-shadow">
                <div class="flex justify-between items-center mb-4">
                    <h4 class="font-bold text-lg">De Hoogzomer</h4>
                    <span class="text-xs font-mono bg-amber-100 text-amber-800 px-2 py-1 rounded">Week 28 - 32</span>
                </div>
                <ul class="space-y-3 text-sm text-slate-600">
                    <li class="flex items-start gap-2">
                        <span class="text-green-500">‚úì</span> 
                        <span><strong>Maximale warmte:</strong> Grootste kans op 25¬∞C+ en hittegolven.</span>
                    </li>
                    <li class="flex items-start gap-2">
                        <span class="text-green-500">‚úì</span> 
                        <span><strong>Terrasweer:</strong> Stabiele avondtemperaturen.</span>
                    </li>
                    <li class="flex items-start gap-2">
                        <span class="text-amber-500">‚ö†</span> 
                        <span><strong>Hondsdagen:</strong> Traditioneel warmst, maar ook broeierig.</span>
                    </li>
                    <li class="flex items-start gap-2">
                        <span class="text-red-500">‚úï</span> 
                        <span><strong>Drukte:</strong> Piekseizoen, volste stranden en wegen (Bouwvak).</span>
                    </li>
                </ul>
            </div>

            <!-- Late Summer -->
            <div class="bg-white rounded-xl p-6 shadow-sm border-t-4 border-orange-400 hover:shadow-md transition-shadow">
                <div class="flex justify-between items-center mb-4">
                    <h4 class="font-bold text-lg">De Nazomer</h4>
                    <span class="text-xs font-mono bg-orange-100 text-orange-800 px-2 py-1 rounded">Week 33 - 36</span>
                </div>
                <ul class="space-y-3 text-sm text-slate-600">
                    <li class="flex items-start gap-2">
                        <span class="text-green-500">‚úì</span> 
                        <span><strong>Warm Water:</strong> Zee en meren zijn op hun warmst (20¬∞C).</span>
                    </li>
                    <li class="flex items-start gap-2">
                        <span class="text-green-500">‚úì</span> 
                        <span><strong>Gouden licht:</strong> Zon staat lager, prachtig voor fotografie.</span>
                    </li>
                    <li class="flex items-start gap-2">
                        <span class="text-amber-500">‚ö†</span> 
                        <span><strong>Kortere dagen:</strong> Merkbaar eerder donker (rond 21:00u).</span>
                    </li>
                    <li class="flex items-start gap-2">
                        <span class="text-red-500">‚úï</span> 
                        <span><strong>Regenkans:</strong> Kans op langdurige buien neemt toe richting september.</span>
                    </li>
                </ul>
            </div>
        </section>

        <!-- SECTION 4: Regional Context -->
        <section class="bg-stone-800 text-stone-200 rounded-2xl p-8 shadow-xl">
            <div class="flex flex-col md:flex-row gap-8 items-center">
                <div class="flex-1">
                    <h3 class="text-2xl font-bold text-white mb-2">Kust vs. Binnenland</h3>
                    <p class="mb-4 text-stone-400">Waar je bent in Nederland maakt uit. Kies je regio voor advies:</p>
                    
                    <div class="inline-flex bg-stone-700 p-1 rounded-lg mb-4">
                        <button onclick="setRegion('coast')" id="btn-coast" class="px-4 py-2 rounded-md text-sm font-medium transition-all bg-amber-500 text-stone-900 shadow">Kustprovincies</button>
                        <button onclick="setRegion('inland')" id="btn-inland" class="px-4 py-2 rounded-md text-sm font-medium transition-all hover:text-white text-stone-400">Binnenland</button>
                    </div>

                    <div id="region-text" class="text-lg font-light leading-relaxed border-l-4 border-amber-500 pl-4">
                        Aan de kust is het in de voorzomer vaak zonniger dan in het binnenland omdat wolken boven de nog koude zee oplossen. In hoogzomer is het er koeler (zeewind), maar heb je minder last van zware onweersbuien dan in het oosten.
                    </div>
                </div>
                <div class="w-full md:w-1/3 flex justify-center">
                    <div class="text-9xl opacity-20 select-none">üåä</div>
                </div>
            </div>
        </section>

    </main>

    <!-- FOOTER WITH SOURCES -->
    <footer class="bg-white border-t border-stone-200 pt-12 pb-8 mt-12">
        <div class="max-w-6xl mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
                <div>
                    <h5 class="font-bold text-slate-900 mb-4">Bronnen & Data</h5>
                    <ul class="space-y-2 text-sm text-slate-500">
                        <li>
                            <a href="https://www.knmi.nl/nederland-nu/klimatologie/normaal-en-extreem" target="_blank" class="hover:text-amber-600 transition-colors flex items-center gap-2">
                                üìä <span>KNMI Klimaatdashboard (Normaalwaarden 1991-2020)</span>
                            </a>
                        </li>
                        <li>
                            <a href="https://www.weerstatistieken.nl/" target="_blank" class="hover:text-amber-600 transition-colors flex items-center gap-2">
                                üìÖ <span>Weerstatistieken.nl (Historische daggegevens)</span>
                            </a>
                        </li>
                        <li>
                            <span class="flex items-center gap-2">
                                üèñÔ∏è <span>Drukte-indicatoren o.b.v. Schoolvakanties & ANWB trends</span>
                            </span>
                        </li>
                    </ul>
                </div>
                
                <div>
                    <h5 class="font-bold text-slate-900 mb-4">Over deze tool</h5>
                    <p class="text-sm text-slate-500 leading-relaxed">
                        Deze applicatie is gebouwd om inzicht te geven in de 'kansen' op goed weer. 
                        Het weer in Nederland is grillig; resultaten bieden geen garantie voor de toekomst.
                        De berekening gebruikt een gewogen gemiddelde van temperatuurmaxima, zonuren en neerslagkans per week.
                    </p>
                </div>
            </div>
            
            <div class="border-t border-stone-100 pt-8 text-center text-xs text-slate-400">
                &copy; 2024 ZomerPlanner NL ‚Ä¢ <span class="text-amber-600/60">Geniet van de zon, als 'ie schijnt!</span>
            </div>
        </div>
    </footer>

    <script>
        // --- DATA & STATE ---
        
        // Approximated Data based on KNMI Climatology (De Bilt/General NL average)
        // Weeks 22 (End May) to 36 (Early Sept)
        // Temp: Avg Daily Max. Sun: Avg Hours/day. Rain: Inverse Score (10 = dry, 0 = wet).
        const weekData = [
            { week: 22, label: "Eind Mei", temp: 18.5, sun: 7.2, dry: 7.0, desc: "Fris lente-einde" },
            { week: 23, label: "Begin Jun", temp: 19.2, sun: 7.4, dry: 6.5, desc: "Kans op juni-dip" },
            { week: 24, label: "Half Jun", temp: 20.0, sun: 7.6, dry: 7.0, desc: "Langste dagen" },
            { week: 25, label: "Eind Jun", temp: 20.8, sun: 7.7, dry: 7.2, desc: "Veel licht, aangenamer" },
            { week: 26, label: "Eind Jun", temp: 21.5, sun: 7.6, dry: 7.0, desc: "Start zomergevoel" },
            { week: 27, label: "Begin Jul", temp: 22.2, sun: 7.4, dry: 6.8, desc: "Warmer, iets benauwder" },
            { week: 28, label: "Half Jul", temp: 23.0, sun: 7.3, dry: 6.5, desc: "Hitte kans neemt toe" },
            { week: 29, label: "Eind Jul", temp: 23.5, sun: 7.2, dry: 6.2, desc: "Hoogzomer piek" },
            { week: 30, label: "Eind Jul", temp: 24.0, sun: 7.1, dry: 6.0, desc: "Vaak de warmste week" },
            { week: 31, label: "Begin Aug", temp: 24.0, sun: 7.0, dry: 6.0, desc: "Hondsdagen, kans onweer" },
            { week: 32, label: "Half Aug", temp: 23.8, sun: 6.8, dry: 6.2, desc: "Warm en stabiel" },
            { week: 33, label: "Half Aug", temp: 23.0, sun: 6.5, dry: 6.5, desc: "Heerlijk nazomeren" },
            { week: 34, label: "Eind Aug", temp: 22.0, sun: 6.0, dry: 6.8, desc: "Dagen korter, rustiger" },
            { week: 35, label: "Begin Sep", temp: 20.5, sun: 5.5, dry: 7.0, desc: "Frisser, warm water" },
            { week: 36, label: "Half Sep", temp: 19.0, sun: 5.0, dry: 6.5, desc: "Herfst komt eraan" },
        ];

        let preferences = {
            temp: 50,
            sun: 50,
            rain: 50
        };

        let myChart = null;

        // --- DOM ELEMENTS ---
        const sliderTemp = document.getElementById('input-temp');
        const sliderSun = document.getElementById('input-sun');
        const sliderRain = document.getElementById('input-rain');
        
        const valTemp = document.getElementById('val-temp');
        const valSun = document.getElementById('val-sun');
        const valRain = document.getElementById('val-rain');

        // --- CORE LOGIC ---

        function calculateScores() {
            // Normalize weights (0-1)
            const wT = preferences.temp / 100;
            const wS = preferences.sun / 100;
            const wR = preferences.rain / 100;

            const scoredWeeks = weekData.map(d => {
                // Normalize data points to roughly 0-1 scale for calculation
                const nTemp = (d.temp - 18) / (24 - 18); // range 18-24
                const nSun = (d.sun - 5) / (8 - 5);      // range 5-8
                const nDry = (d.dry - 5) / (8 - 5);      // range 5-8 (score 10 is dry)

                // Calculate weighted score
                // Base score ensures weeks don't get 0 easily
                let score = (nTemp * wT) + (nSun * wS) + (nDry * wR);
                
                return { ...d, score: score };
            });

            // Sort descending
            scoredWeeks.sort((a, b) => b.score - a.score);

            updateUI(scoredWeeks);
        }

        function updateUI(sortedData) {
            // Update Top 3 Cards
            const top1 = sortedData[0];
            const top2 = sortedData[1];
            const top3 = sortedData[2];

            // Render #1
            document.getElementById('rank-1-week').textContent = `Week ${top1.week}`;
            document.getElementById('rank-1-date').textContent = `${top1.label} ‚Ä¢ ${top1.temp}¬∞C gem.`;
            document.getElementById('rank-1-desc').textContent = top1.desc;

            // Render #2
            document.getElementById('rank-2-week').textContent = `Week ${top2.week}`;
            document.getElementById('rank-2-date').textContent = `${top2.label}`;

            // Render #3
            document.getElementById('rank-3-week').textContent = `Week ${top3.week}`;
            document.getElementById('rank-3-date').textContent = `${top3.label}`;
        }

        // --- CHART CONFIG ---
        function initChart() {
            const ctx = document.getElementById('climateChart').getContext('2d');
            
            const labels = weekData.map(d => `Wk ${d.week}`);
            const tempData = weekData.map(d => d.temp);
            const sunData = weekData.map(d => d.sun);
            const rainData = weekData.map(d => 10 - d.dry); // Invert dry score to show "Rain Risk"

            myChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [
                        {
                            type: 'line',
                            label: 'Temperatuur (¬∞C)',
                            data: tempData,
                            borderColor: '#d97706', // amber-600
                            backgroundColor: '#d97706',
                            borderWidth: 3,
                            yAxisID: 'y',
                            tension: 0.4,
                            pointRadius: 3
                        },
                        {
                            type: 'bar',
                            label: 'Zonuren (per dag)',
                            data: sunData,
                            backgroundColor: 'rgba(250, 204, 21, 0.6)', // yellow-400
                            yAxisID: 'y1',
                            borderRadius: 4
                        },
                        {
                            type: 'line',
                            label: 'Neerslag Risico (Index)',
                            data: rainData,
                            borderColor: '#38bdf8', // sky-400
                            borderDash: [5, 5],
                            borderWidth: 2,
                            yAxisID: 'y1',
                            tension: 0.4,
                            pointRadius: 0,
                            fill: false
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        mode: 'index',
                        intersect: false,
                    },
                    plugins: {
                        tooltip: {
                            backgroundColor: 'rgba(255, 255, 255, 0.9)',
                            titleColor: '#1c1917',
                            bodyColor: '#44403c',
                            borderColor: '#e5e7eb',
                            borderWidth: 1,
                            padding: 10
                        },
                        legend: {
                            position: 'top',
                            align: 'end'
                        }
                    },
                    scales: {
                        y: {
                            type: 'linear',
                            display: true,
                            position: 'left',
                            title: { display: true, text: 'Temperatuur (¬∞C)' },
                            min: 15,
                            max: 30
                        },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            grid: {
                                drawOnChartArea: false,
                            },
                            title: { display: true, text: 'Uren / Index' },
                            min: 0,
                            max: 12
                        },
                        x: {
                            grid: { display: false }
                        }
                    }
                }
            });
        }

        // --- REGION TOGGLE LOGIC ---
        function setRegion(region) {
            const btnCoast = document.getElementById('btn-coast');
            const btnInland = document.getElementById('btn-inland');
            const textBlock = document.getElementById('region-text');
            const iconBlock = textBlock.nextElementSibling; // The div with the emoji

            if (region === 'coast') {
                btnCoast.classList.add('bg-amber-500', 'text-stone-900', 'shadow');
                btnCoast.classList.remove('text-stone-400', 'hover:text-white');
                
                btnInland.classList.remove('bg-amber-500', 'text-stone-900', 'shadow');
                btnInland.classList.add('text-stone-400', 'hover:text-white');

                textBlock.innerHTML = `Aan de <strong>kust</strong> is het in de voorzomer vaak zonniger omdat wolken boven de nog koude zee oplossen. In hoogzomer is het er koeler door zeewind, maar heb je minder last van zware stapelwolken en onweer dan in het oosten.`;
            } else {
                btnInland.classList.add('bg-amber-500', 'text-stone-900', 'shadow');
                btnInland.classList.remove('text-stone-400', 'hover:text-white');

                btnCoast.classList.remove('bg-amber-500', 'text-stone-900', 'shadow');
                btnCoast.classList.add('text-stone-400', 'hover:text-white');

                textBlock.innerHTML = `In het <strong>binnenland</strong> (Veluwe, Achterhoek, Limburg) loopt de temperatuur sneller op. Heerlijk voor hitteliefhebbers, vaak 2-4 graden warmer dan aan zee. Wel is de kans op een stevige regen- of onweersbui in de namiddag statistisch groter.`;
            }
        }

        // --- EVENT LISTENERS ---
        function handleInput() {
            preferences.temp = parseInt(sliderTemp.value);
            preferences.sun = parseInt(sliderSun.value);
            preferences.rain = parseInt(sliderRain.value);

            valTemp.textContent = preferences.temp + '%';
            valSun.textContent = preferences.sun + '%';
            valRain.textContent = preferences.rain + '%';

            calculateScores();
        }

        sliderTemp.addEventListener('input', handleInput);
        sliderSun.addEventListener('input', handleInput);
        sliderRain.addEventListener('input', handleInput);

        // --- INIT ---
        window.addEventListener('load', () => {
            initChart();
            calculateScores(); // Initial calculation
        });

    </script>
</body>
</html>
