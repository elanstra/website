<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DE INTERGALACTISCHE PIZZA KIEZER</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* Custom animaties die Tailwind niet standaard heeft */
        @keyframes spin-slow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .animate-spin-slow {
            animation: spin-slow 8s linear infinite;
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="min-h-screen bg-yellow-300 font-mono flex items-center justify-center p-4 selection:bg-pink-500 selection:text-white">

    <div class="fixed inset-0 pointer-events-none overflow-hidden opacity-20">
        <div class="absolute top-10 left-10 text-9xl animate-bounce">üçï</div>
        <div class="absolute bottom-20 right-20 text-9xl animate-pulse">üî•</div>
        <div class="absolute top-1/2 left-1/4 text-8xl animate-spin-slow">üí©</div>
    </div>

    <div id="app" class="max-w-lg w-full bg-white border-4 border-black shadow-[10px_10px_0px_0px_rgba(0,0,0,1)] relative z-10 transform rotate-1 hover:rotate-0 transition-transform duration-300">
        </div>

    <div class="fixed bottom-2 right-2 text-[10px] font-bold text-yellow-600 opacity-50 rotate-180">
        Gemaakt door een AI op cafe√Øne
    </div>

    <script>
        // --- DATA & CONFIGURATIE ---
        
        const questions = [
            {
                id: 1,
                text: "Watskeburt in die bovenkamer? Wat is de vibe?",
                options: [
                    { 
                        text: "Ik ga lekkerder dan een raketje op dinsdag", 
                        icon: "party-popper", 
                        // Party boost vooral Pepperoni en Hawaii (chaos)
                        weights: { pepperoni: 4, hawaii: 2, marg: 0 } 
                    },
                    { 
                        text: "Mijn ziel is een leegstaand kraakpand (honger)", 
                        icon: "frown", 
                        // Honger = Vlees
                        weights: { meatlovers: 4, shoarma: 3, pepperoni: 1 } 
                    },
                    { 
                        text: "Mijn lever heeft een straatverbod, ik ben stuk", 
                        icon: "skull", 
                        // Kater = Shoarma wint bijna altijd
                        weights: { shoarma: 6, meatlovers: 2 } 
                    },
                    { 
                        text: "Gewoon fourageren, niet lullen maar vullen", 
                        icon: "utensils", 
                        // Neutraal verdeeld
                        weights: { marg: 1, pepperoni: 3, veggi: 1 } 
                    },
                ]
            },
            {
                id: 2,
                text: "Wie zijn de medeplichtigen in dit calorie-misdrijf?",
                options: [
                    { 
                        text: "Soloolo. Ik, mezelf en mijn vetpercentage", 
                        icon: "ghost", 
                        // Solo mag stinken
                        weights: { shoarma: 3, meatlovers: 3, hawaii: 2 } 
                    },
                    { 
                        text: "Een spannende date (ik moet me gedragen)", 
                        icon: "heart", 
                        // Date geeft minder punten aan Marg dan eerst (was 5, nu 3)
                        // Pepperoni krijgt ook punten (veilige 2e keus)
                        weights: { marg: 3, veggi: 2, pepperoni: 2, shoarma: -5 } 
                    },
                    { 
                        text: "De Squad. We gaan slopen en hopen.", 
                        icon: "pizza", 
                        weights: { pepperoni: 5, meatlovers: 3, hawaii: 2 } 
                    },
                    { 
                        text: "Schoonouders. Red me, het is een gijzeling.", 
                        icon: "flame", 
                        // Schoonouders blijven saai
                        weights: { marg: 4, veggi: 2 } 
                    },
                ]
            },
            {
                id: 3,
                text: "De Verboden Vrucht: Ananas. Praat met me.",
                options: [
                    { 
                        text: "JA MAN! Tropische verrassing in mijn giechel!", 
                        icon: "üçç", isEmoji: true,
                        // Als je dit kiest, win je bijna sws Hawaii
                        weights: { hawaii: 12 } 
                    },
                    { 
                        text: "Nee man, doe normaal, cultuurbarbaar.", 
                        icon: "üö´", isEmoji: true,
                        weights: { marg: 1, pepperoni: 1, meatlovers: 2, shoarma: 1, hawaii: -100 } 
                    },
                    { 
                        text: "Sst, alleen in het donker. Guilty pleasure.", 
                        icon: "üëÄ", isEmoji: true,
                        weights: { hawaii: 4, pepperoni: 1 } 
                    },
                    { 
                        text: "Boeit me niet, pleur het in de oven.", 
                        icon: "üî•", isEmoji: true,
                        weights: { shoarma: 2, meatlovers: 2 } 
                    },
                ]
            },
            {
                id: 4,
                text: "Hoeveel haat je je eigen hartkleppen vandaag?",
                options: [
                    { 
                        text: "Ik ben eigenlijk een konijn in vermomming", 
                        icon: "ü•ó", isEmoji: true,
                        // Dikke bonus voor Veggi, anders wint ie nooit
                        weights: { veggi: 8, marg: 1 } 
                    },
                    { 
                        text: "Beetje balans, beetje dans, beetje sjans", 
                        icon: "‚öñÔ∏è", isEmoji: true,
                        weights: { marg: 2, pepperoni: 2, veggi: 2 } 
                    },
                    { 
                        text: "Slib die aderen maar dicht, yolo swag.", 
                        icon: "üçî", isEmoji: true,
                        weights: { meatlovers: 5, shoarma: 3, pepperoni: 1 } 
                    },
                    { 
                        text: "Vet is de enige emotie die ik nog voel.", 
                        icon: "ü•ì", isEmoji: true,
                        weights: { shoarma: 5, meatlovers: 5 } 
                    },
                ]
            }
        ];

        const pizzaResults = {
            marg: {
                name: "Pizza Margherita",
                desc: "Jij bent de beige trui van het universum. Veilig. Saai. Basis. Waarschijnlijk ben je bang voor smaak of heb je een date en wil je niet ruiken naar een kliko. Eet je deeg met tomatensaus, lafaard.",
                img: "üßÄ",
                color: "bg-yellow-100 border-yellow-500 text-yellow-900"
            },
            pepperoni: {
                name: "Pizza Pepperoni",
                desc: "De allemansvriend met pit. Net als je moeder. Grapje. Of niet. Jij wilt gewoon zout en vet in schijfjesvorm. Prima keuze, weinig risico, maximaal resultaat voor je dopamine-receptoren.",
                img: "üçï",
                color: "bg-red-100 border-red-600 text-red-900"
            },
            hawaii: {
                name: "Pizza Hawaii",
                desc: "Gefeliciteerd, je bent een culinaire anarchist. Je lacht in het gezicht van god en Italianen. Ananas op pizza is een oorlogsmisdaad, maar jij bent de dictator van je eigen maag. Respect voor de chaos.",
                img: "üçç",
                color: "bg-orange-100 border-orange-500 text-orange-900"
            },
            shoarma: {
                name: "Pizza Shoarma",
                desc: "Ah, de Geurvlag van Verdoemenis. Jij hebt of een kater van bijbelse proporties, of je hebt het leven opgegeven. Knoflooksaus is hier geen optie, het is een levensbehoefte. Sterkte morgen op de wc.",
                img: "üåØ",
                color: "bg-stone-200 border-stone-600 text-stone-900"
            },
            meatlovers: {
                name: "Meatlovers",
                desc: "De 'Ik Haat Dieren' special. Jij wilt gewoon dooie beesten stapelen op deeg. Je hartkleppen schreeuwen om genade, maar je smaakpapillen zingen het Wilhelmus. Eet smakelijk, carnivoor monster.",
                img: "üçñ",
                color: "bg-rose-200 border-rose-600 text-rose-900"
            },
            veggi: {
                name: "Veggie",
                desc: "Kijk jou eens deugen. Je denkt dat je gezond doet, maar je eet nog steeds een frisbee van koolhydraten en gesmolten vet. Maar hey, er zit paprika op, dus je leeft praktisch voor altijd. Namast√©, pik.",
                img: "ü•¶",
                color: "bg-green-100 border-green-600 text-green-900"
            }
        };

        // --- STATE MANAGEMENT ---
        let state = {
            step: 0,
            answers: [],
            loading: false,
            result: null
        };

        const app = document.getElementById('app');

        // --- FUNCTIES ---

        function calculateResult(finalAnswers) {
            state.loading = true;
            render();

            setTimeout(() => {
                let scoreboard = {
                    marg: 0,
                    pepperoni: 0,
                    hawaii: 0,
                    shoarma: 0,
                    meatlovers: 0,
                    veggi: 0
                };

                // Punten optellen
                finalAnswers.forEach(answer => {
                    if (answer.weights) {
                        for (const [pizza, points] of Object.entries(answer.weights)) {
                            if (scoreboard[pizza] !== undefined) {
                                scoreboard[pizza] += points;
                            }
                        }
                    }
                });

                // Sorteren hoog naar laag
                const sortedPizzas = Object.entries(scoreboard).sort((a, b) => b[1] - a[1]);
                let winner = sortedPizzas[0][0];

                console.log("Eindstand:", scoreboard);
                console.log("Winnaar:", winner);

                state.result = winner;
                state.loading = false;
                render();
            }, 2000);
        }

        function handleAnswer(option) {
            state.answers[state.step] = option;
            
            if (state.step < questions.length - 1) {
                state.step++;
                render();
            } else {
                calculateResult(state.answers);
            }
        }

        function resetQuiz() {
            state.step = 0;
            state.answers = [];
            state.result = null;
            state.loading = false;
            render();
        }

        // --- RENDER FUNCTIES ---

        function getHeaderHTML() {
            return `
                <div class="bg-black p-6 text-yellow-300 text-center border-b-4 border-black">
                    <div class="flex justify-center mb-2">
                        <i data-lucide="bomb" class="w-12 h-12 text-red-500 animate-pulse"></i>
                    </div>
                    <h1 class="text-4xl font-black uppercase tracking-tighter leading-none transform -skew-x-12">
                        DE INTERGALACTISCHE<br/>DEEG DISCUS<br/>DESTINY KIEZER 9000
                    </h1>
                    <p class="text-pink-500 font-bold text-sm mt-2 uppercase tracking-widest bg-white inline-block px-2 transform skew-x-12">
                        Nu met 100% meer logica
                    </p>
                </div>
            `;
        }

        function getLoadingHTML() {
            return `
                <div class="flex flex-col items-center justify-center py-10 space-y-6">
                    <div class="relative">
                        <div class="w-24 h-24 border-8 border-black border-t-pink-500 rounded-full animate-spin"></div>
                        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-4xl">
                            ü§™
                        </div>
                    </div>
                    <div class="text-center">
                        <p class="text-xl font-black animate-pulse uppercase">Algoritme aanlingeren...</p>
                        <p class="text-sm font-bold text-pink-600 mt-2">
                            "Punten tellen..."<br/>
                            "Jury omkopen..."
                        </p>
                    </div>
                </div>
            `;
        }

        function getResultHTML() {
            const resultData = pizzaResults[state.result];
            return `
                <div class="text-center space-y-6 animate-fade-in">
                    <div class="p-8 border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] ${resultData.color} transform transition hover:-translate-y-2 duration-300">
                        <div class="text-8xl mb-6 animate-bounce drop-shadow-lg">${resultData.img}</div>
                        <h2 class="text-3xl font-black mb-4 uppercase leading-none italic">${resultData.name}</h2>
                        <p class="text-md font-bold leading-relaxed border-t-4 border-black pt-4">
                            ${resultData.desc}
                        </p>
                    </div>

                    <div class="flex flex-col space-y-4 pt-4">
                        <a href="https://www.dominos.nl/" target="_blank" rel="noreferrer"
                           class="bg-pink-500 hover:bg-pink-400 text-white border-4 border-black text-xl font-black py-4 px-6 shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] flex items-center justify-center gap-3 transition-all transform hover:-translate-y-1 active:translate-y-0 active:shadow-none">
                            <i data-lucide="zap" fill="currentColor"></i> KNAL DIE BESTELLING ERIN
                        </a>
                        <button onclick="resetQuiz()"
                           class="text-black hover:bg-black hover:text-white border-2 border-transparent hover:border-black font-bold py-2 px-4 transition-colors uppercase text-xs tracking-widest flex items-center justify-center">
                            <i data-lucide="refresh-cw" class="w-3 h-3 mr-2"></i> Ik ben het oneens (jankbal)
                        </button>
                    </div>
                </div>
            `;
        }

        function getQuestionHTML() {
            const currentQ = questions[state.step];
            const progress = (state.step / questions.length) * 100;
            
            const optionsHTML = currentQ.options.map((opt, idx) => {
                const iconHTML = opt.isEmoji 
                    ? opt.icon 
                    : `<i data-lucide="${opt.icon}"></i>`;
                
                return `
                    <button onclick="handleOptionClick(${idx})"
                        class="w-full group relative flex items-center p-4 border-4 border-black bg-white hover:bg-cyan-300 transition-all duration-100 text-left shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[2px] hover:translate-y-[2px]">
                        <span class="text-3xl mr-4 group-hover:scale-150 group-hover:rotate-12 transition-transform duration-200 flex items-center justify-center w-10">
                            ${iconHTML}
                        </span>
                        <span class="font-bold text-lg text-black group-hover:italic">
                            ${opt.text}
                        </span>
                    </button>
                `;
            }).join('');

            return `
                <div class="space-y-8">
                    <div class="w-full bg-black h-4 border-2 border-black p-0.5">
                        <div class="bg-pink-500 h-full transition-all duration-300 relative" style="width: ${progress}%">
                            <span class="absolute right-0 -top-2 text-2xl animate-bounce">üçï</span>
                        </div>
                    </div>
                    
                    <h2 class="text-2xl font-black text-black leading-none uppercase transform -rotate-1">
                        ${currentQ.text}
                    </h2>

                    <div class="grid gap-4">
                        ${optionsHTML}
                    </div>
                    
                    <div class="flex justify-between items-center text-xs font-black uppercase tracking-widest text-gray-400 mt-8 border-t-2 border-gray-200 pt-4">
                        <span>Niveau ${state.step + 1} / ${questions.length}</span>
                        <span class="flex items-center gap-1"><i data-lucide="siren" class="w-3 h-3"></i> Pas op: heet</span>
                    </div>
                </div>
            `;
        }

        function render() {
            let contentHTML = '';
            
            if (state.loading) {
                contentHTML = getLoadingHTML();
            } else if (state.result) {
                contentHTML = getResultHTML();
            } else {
                contentHTML = getQuestionHTML();
            }

            app.innerHTML = `
                ${getHeaderHTML()}
                <div class="p-8">
                    ${contentHTML}
                </div>
            `;

            lucide.createIcons();
        }

        window.handleOptionClick = (idx) => {
            const currentQ = questions[state.step];
            handleAnswer(currentQ.options[idx]);
        };
        
        window.resetQuiz = resetQuiz;

        render();

    </script>
</body>
</html>
